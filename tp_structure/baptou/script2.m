geom=[0,0;
      1,2;
      2,0;
      3,2;
      4,0;
      5,2;
      6,0;
      7,2;
      8,0];
    
connec=[1,3;
        3,5;
        5,7;
        7,9;
        2,4;
        4,6;
        6,8;
        1,2;
        2,3;
        3,4;
        4,5;
        5,6;
        6,7;
        7,8;
        8,9];
    
ActiveDoF=[0,0;
           1,1;
           1,1;
           1,1;
           1,1;
           1,1;
           1,1;
           1,1;
           1,0];
       
prop=[30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045;30E9,0.045]
%prop=[30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045;30E9,0.00045]
%prop=[30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045;30,0.045]


AllKe=AllBarElementsMatrix(geom, connec, prop);
nf=DFNumbering(ActiveDoF);
K=BarElementsAssemblage(AllKe, nf,connec, geom)

Kinv=inv(K)

F=[15000;0;0;-5000;0;-7000;0;0;0;0;0;-10000;0;0;0]

q=Kinv*F

N=effort(geom,q,nf,AllKe,connec)